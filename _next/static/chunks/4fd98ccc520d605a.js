(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,563,e=>{"use strict";var t=e.i(43476),a=e.i(71645),i=e.i(81917);let s=[{key:"all",labelKey:"all"},{key:"relationship",labelKey:"qualifying_relationship"},{key:"employment",labelKey:"qualifying_employment"},{key:"capacity",labelKey:"qualifying_capacity"},{key:"business",labelKey:"doing_business"}],r={all:[],relationship:["subsidiary_of","owns","affiliated_with"],employment:["employed_by","works_for"],capacity:["manages","reports_to"],business:["located_in","founded"]},n={all:[],relationship:["company","organization"],employment:["person","company","organization"],capacity:["person","position"],business:["company","organization","location"]},l=(e,t)=>({works_for:t.relationship.relationTypes.works_for,employed_by:t.relationship.relationTypes.employed_by,owns:t.relationship.relationTypes.owns,subsidiary_of:t.relationship.relationTypes.subsidiary_of,affiliated_with:t.relationship.relationTypes.affiliated_with,manages:t.relationship.relationTypes.manages,reports_to:t.relationship.relationTypes.reports_to,founded:t.relationship.relationTypes.founded,located_in:t.relationship.relationTypes.located_in})[e]||e,o=({entity:e,t:a,compact:i=!1})=>{var s;let r={person:"border-blue-400",organization:"border-purple-400",company:"border-green-400",location:"border-orange-400",position:"border-pink-400"}[e.type]||"border-gray-300",n={person:"bg-blue-50",organization:"bg-purple-50",company:"bg-green-50",location:"bg-orange-50",position:"bg-pink-50"}[e.type]||"bg-gray-50",l=(s=e.type,({person:a.relationship.entityTypes.person,organization:a.relationship.entityTypes.organization,company:a.relationship.entityTypes.company,location:a.relationship.entityTypes.location,position:a.relationship.entityTypes.position})[s]||s);return i?(0,t.jsxs)("div",{className:`px-3 py-2 rounded-lg border-2 ${r} ${n} whitespace-nowrap`,children:[(0,t.jsxs)("span",{className:"text-xs text-gray-500 mr-1",children:["[",l,"]"]}),(0,t.jsx)("span",{className:"text-sm font-medium text-gray-800",children:e.name})]}):(0,t.jsxs)("div",{className:`relative px-4 py-3 rounded-lg border-2 ${r} ${n} min-w-[140px]`,children:[(0,t.jsx)("span",{className:"absolute -top-2.5 left-3 px-2 text-xs bg-white text-gray-500",children:l}),(0,t.jsx)("p",{className:"text-sm font-medium text-gray-800 text-center",children:e.name})]})},p=({label:e})=>(0,t.jsxs)("div",{className:"flex items-center px-2",children:[(0,t.jsx)("div",{className:"w-8 h-0.5 bg-gray-300"}),(0,t.jsx)("div",{className:"px-2 py-1 bg-rose-50 text-rose-600 text-xs rounded border border-rose-200 whitespace-nowrap",children:e}),(0,t.jsx)("div",{className:"w-4 h-0.5 bg-gray-300"}),(0,t.jsx)("svg",{className:"w-3 h-3 text-gray-400 -ml-1",fill:"currentColor",viewBox:"0 0 20 20",children:(0,t.jsx)("path",{fillRule:"evenodd",d:"M10.293 3.293a1 1 0 011.414 0l6 6a1 1 0 010 1.414l-6 6a1 1 0 01-1.414-1.414L14.586 11H3a1 1 0 110-2h11.586l-4.293-4.293a1 1 0 010-1.414z",clipRule:"evenodd"})})]});function d({entities:e,relations:d}){let{t:c}=(0,i.useLanguage)(),[y,x]=(0,a.useState)("all"),{entities:m,relations:h}=(0,a.useMemo)(()=>((e,t,a)=>{if("all"===e)return{entities:t,relations:a};let i=r[e],s=n[e],l=a.filter(e=>i.includes(e.relation_type)),o=new Set;return l.forEach(e=>{o.add(e.source_id),o.add(e.target_id)}),{entities:l.length>0?t.filter(e=>o.has(e.id)):t.filter(e=>s.includes(e.type)),relations:l}})(y,e,d),[y,e,d]),g=(0,a.useMemo)(()=>{let e={};return h.forEach(t=>{e[t.relation_type]||(e[t.relation_type]=[]),e[t.relation_type].push(t)}),e},[h]),u=(0,a.useMemo)(()=>{let e=new Set;return h.forEach(t=>{e.add(t.source_id),e.add(t.target_id)}),e},[h]),b=(0,a.useMemo)(()=>m.filter(e=>!u.has(e.id)),[m,u]);return 0===e.length?(0,t.jsx)("div",{className:"h-[200px] flex items-center justify-center text-gray-400",children:(0,t.jsx)("p",{className:"text-sm",children:c.relationship.noEntitiesOrRelations})}):(0,t.jsxs)("div",{className:"bg-white border border-gray-100 rounded-lg",children:[(0,t.jsx)("div",{className:"border-b border-gray-100 px-4 pt-4",children:(0,t.jsx)("div",{className:"flex flex-wrap gap-1",children:s.map(e=>{var a;let i;return(0,t.jsx)("button",{onClick:()=>x(e.key),className:`px-3 py-2 text-xs font-medium rounded-t-lg transition-colors ${y===e.key?"bg-rose-50 text-rose-700 border-b-2 border-rose-500":"text-gray-500 hover:text-gray-700 hover:bg-gray-50"}`,children:(a=e.labelKey,(i=c.relationship.graphTabs)&&"object"==typeof i&&a in i?i[a]:({all:"Overview",qualifying_relationship:"Corporate",qualifying_employment:"Employment",qualifying_capacity:"Capacity",doing_business:"Operations"})[a]||a)},e.key)})})}),(0,t.jsx)("div",{className:"p-4",children:0===m.length?(0,t.jsx)("div",{className:"h-[150px] flex items-center justify-center text-gray-400",children:(0,t.jsx)("p",{className:"text-sm",children:c.relationship.noEntitiesOrRelations})}):(0,t.jsxs)("div",{className:"space-y-4",children:[Object.entries(g).map(([a,i])=>(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("span",{className:"px-2 py-1 bg-gray-100 text-gray-600 text-xs font-medium rounded",children:l(a,c)}),(0,t.jsxs)("span",{className:"text-xs text-gray-400",children:["(",i.length,")"]})]}),(0,t.jsx)("div",{className:"overflow-x-auto pb-2",children:(0,t.jsx)("div",{className:"flex flex-col gap-2 min-w-fit",children:i.map((a,i)=>{let s=e.find(e=>e.id===a.source_id),r=e.find(e=>e.id===a.target_id);return s&&r?(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[(0,t.jsx)(o,{entity:s,t:c,compact:!0}),(0,t.jsx)(p,{label:l(a.relation_type,c)}),(0,t.jsx)(o,{entity:r,t:c,compact:!0})]},i):null})})})]},a)),b.length>0&&(0,t.jsxs)("div",{className:"pt-4 border-t border-gray-100",children:[(0,t.jsxs)("p",{className:"text-xs text-gray-500 mb-2",children:[c.relationship.entities,":"]}),(0,t.jsx)("div",{className:"flex flex-wrap gap-2",children:b.map(e=>(0,t.jsx)(o,{entity:e,t:c,compact:!0},e.id))})]}),0===h.length&&m.length>0&&(0,t.jsxs)("div",{className:"pt-2",children:[(0,t.jsxs)("p",{className:"text-xs text-gray-500 mb-2",children:[c.relationship.entities,":"]}),(0,t.jsx)("div",{className:"flex flex-wrap gap-2",children:m.map(e=>(0,t.jsx)(o,{entity:e,t:c,compact:!0},e.id))})]})]})})]})}e.s(["default",()=>d])},66673,e=>{e.n(e.i(563))}]);