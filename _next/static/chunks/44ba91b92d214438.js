(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,563,e=>{"use strict";var t=e.i(43476),i=e.i(71645),a=e.i(81917);let s=[{key:"all",labelKey:"all"},{key:"relationship",labelKey:"qualifying_relationship"},{key:"employment",labelKey:"qualifying_employment"},{key:"capacity",labelKey:"qualifying_capacity"},{key:"business",labelKey:"doing_business"}],r={all:[],relationship:["subsidiary_of","owns","affiliated_with"],employment:["employed_by","works_for"],capacity:["manages","reports_to"],business:["located_in","founded"]},n={all:[],relationship:["company","organization"],employment:["person","company","organization"],capacity:["person","position"],business:["company","organization","location"]},l=({entity:e,t:i})=>{var a;let s={person:"border-blue-400",organization:"border-purple-400",company:"border-green-400",location:"border-orange-400",position:"border-pink-400"}[e.type]||"border-gray-300",r={person:"bg-blue-50",organization:"bg-purple-50",company:"bg-green-50",location:"bg-orange-50",position:"bg-pink-50"}[e.type]||"bg-gray-50",n=(a=e.type,({person:i.relationship.entityTypes.person,organization:i.relationship.entityTypes.organization,company:i.relationship.entityTypes.company,location:i.relationship.entityTypes.location,position:i.relationship.entityTypes.position})[a]||a);return(0,t.jsxs)("div",{className:`relative px-4 py-3 rounded-lg border-2 ${s} ${r} min-w-[160px] max-w-[240px]`,children:[(0,t.jsx)("span",{className:"absolute -top-2.5 left-3 px-2 text-xs bg-white text-gray-500",children:n}),(0,t.jsx)("p",{className:"text-sm font-medium text-gray-800 text-center truncate",children:e.name})]})};function o({entities:e,relations:o}){let{t:p}=(0,a.useLanguage)(),[d,c]=(0,i.useState)("all"),{entities:y,relations:x}=(0,i.useMemo)(()=>((e,t,i)=>{if("all"===e)return{entities:t,relations:i};let a=r[e],s=n[e],l=i.filter(e=>a.includes(e.relation_type)),o=new Set;return l.forEach(e=>{o.add(e.source_id),o.add(e.target_id)}),{entities:l.length>0?t.filter(e=>o.has(e.id)):t.filter(e=>s.includes(e.type)),relations:l}})(d,e,o),[d,e,o]),{persons:m,companies:h}=(0,i.useMemo)(()=>({persons:y.filter(e=>"person"===e.type),companies:y.filter(e=>"company"===e.type||"organization"===e.type)}),[y]);if(0===e.length)return(0,t.jsx)("div",{className:"h-[300px] flex items-center justify-center text-gray-400",children:(0,t.jsx)("p",{className:"text-sm",children:p.relationship.noEntitiesOrRelations})});let g=m[0];return(0,t.jsxs)("div",{className:"bg-white border border-gray-100 rounded-lg",children:[(0,t.jsx)("div",{className:"border-b border-gray-100 px-4 pt-4",children:(0,t.jsx)("div",{className:"flex flex-wrap gap-1",children:s.map(e=>{var i;let a;return(0,t.jsx)("button",{onClick:()=>c(e.key),className:`px-3 py-2 text-xs font-medium rounded-t-lg transition-colors ${d===e.key?"bg-rose-50 text-rose-700 border-b-2 border-rose-500":"text-gray-500 hover:text-gray-700 hover:bg-gray-50"}`,children:(i=e.labelKey,(a=p.relationship.graphTabs)&&"object"==typeof a&&i in a?a[i]:({all:"Overview",qualifying_relationship:"Corporate",qualifying_employment:"Employment",qualifying_capacity:"Capacity",doing_business:"Operations"})[i]||i)},e.key)})})}),(0,t.jsx)("div",{className:"p-6 max-h-[500px] overflow-y-auto",children:0===y.length?(0,t.jsx)("div",{className:"h-[200px] flex items-center justify-center text-gray-400",children:(0,t.jsx)("p",{className:"text-sm",children:p.relationship.noEntitiesOrRelations})}):(0,t.jsxs)("div",{className:"flex flex-col items-center gap-4",children:[h.length>0&&(0,t.jsx)("div",{className:"flex flex-wrap justify-center gap-4",children:h.slice(0,2).map(e=>(0,t.jsx)(l,{entity:e,t:p},e.id))}),g&&h.length>0&&(0,t.jsx)("div",{className:"flex items-center",children:(0,t.jsx)("svg",{width:"2",height:"40",className:"text-gray-300",children:(0,t.jsx)("line",{x1:"1",y1:"0",x2:"1",y2:"40",stroke:"currentColor",strokeWidth:"2"})})}),g&&(0,t.jsx)(l,{entity:g,t:p}),g&&h.length>1&&(0,t.jsx)("div",{className:"flex items-center",children:(0,t.jsx)("svg",{width:"2",height:"40",className:"text-gray-300",children:(0,t.jsx)("line",{x1:"1",y1:"0",x2:"1",y2:"40",stroke:"currentColor",strokeWidth:"2"})})}),h.length>2&&(0,t.jsx)("div",{className:"flex flex-wrap justify-center gap-4",children:h.slice(2).map(e=>(0,t.jsx)(l,{entity:e,t:p},e.id))}),x.length>0&&(0,t.jsxs)("div",{className:"mt-6 pt-4 border-t border-gray-100 w-full",children:[(0,t.jsxs)("p",{className:"text-xs text-gray-500 mb-2",children:[p.relationship.relations,":"]}),(0,t.jsx)("div",{className:"flex flex-wrap gap-2 max-h-[200px] overflow-y-auto",children:x.map((e,i)=>{var a;let s=y.find(t=>t.id===e.source_id),r=y.find(t=>t.id===e.target_id);return(0,t.jsxs)("div",{className:"text-xs px-2 py-1 bg-gray-50 rounded border border-gray-200",children:[(0,t.jsx)("span",{className:"font-medium",children:s?.name}),(0,t.jsx)("span",{className:"mx-1 text-gray-400",children:"→"}),(0,t.jsx)("span",{className:"text-rose-600",children:(a=e.relation_type,({works_for:p.relationship.relationTypes.works_for,employed_by:p.relationship.relationTypes.employed_by,owns:p.relationship.relationTypes.owns,subsidiary_of:p.relationship.relationTypes.subsidiary_of,affiliated_with:p.relationship.relationTypes.affiliated_with,manages:p.relationship.relationTypes.manages,reports_to:p.relationship.relationTypes.reports_to,founded:p.relationship.relationTypes.founded,located_in:p.relationship.relationTypes.located_in})[a]||a)}),(0,t.jsx)("span",{className:"mx-1 text-gray-400",children:"→"}),(0,t.jsx)("span",{className:"font-medium",children:r?.name})]},i)})})]})]})})]})}e.s(["default",()=>o])},66673,e=>{e.n(e.i(563))}]);