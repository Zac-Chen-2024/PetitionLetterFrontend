(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,18566,(e,t,a)=>{t.exports=e.r(76562)},18279,e=>{"use strict";let t=e.i(47167).default.env.NEXT_PUBLIC_API_BASE_URL||"http://localhost:8000";async function a(e,a){let i=`${t}${e}`,r=await fetch(i,{...a,headers:{"Content-Type":"application/json",...a?.headers}});if(!r.ok)throw Error(await r.text()||`API error: ${r.status}`);return r.json()}e.s(["analysisApi",0,{getStandards:()=>a("/api/l1-standards"),analyzeDocuments:(e,t)=>{let i=t&&t.length>0?`?doc_ids=${t.join(",")}`:"";return a(`/api/l1-analyze/${e}${i}`,{method:"POST"})},saveManualAnalysis:(e,t)=>a(`/api/l1-manual-analysis/${e}`,{method:"POST",body:JSON.stringify(t)}),getSummary:e=>a(`/api/l1-summary/${e}`),generateSummary:e=>a(`/api/l1-summary/${e}`,{method:"POST"}),getStatus:e=>a(`/api/l1-status/${e}`)},"documentApi",0,{getDocuments:e=>a(`/api/documents/${e}`),upload:async(e,a,i,r)=>{let s=new FormData;s.append("file",a),s.append("project_id",e),i&&s.append("exhibit_number",i),r&&s.append("exhibit_title",r);let o=await fetch(`${t}/api/upload`,{method:"POST",body:s});if(!o.ok)throw Error(`Upload failed: ${o.status}`);return o.json()},deleteDocument:e=>a(`/api/document/${e}`,{method:"DELETE"}),deleteDocumentsBatch:(e,t)=>a(`/api/document/batch/${e}`,{method:"DELETE",body:JSON.stringify(t)})},"highlightApi",0,{trigger:e=>a(`/api/highlight/${e}`,{method:"POST"}),triggerBatch:e=>a(`/api/highlight/batch/${e}`,{method:"POST"}),getHighlights:(e,t)=>{let i=t?`?page=${t}`:"";return a(`/api/highlight/${e}${i}`)},getHighlightsByPage:e=>a(`/api/highlight/by-page/${e}`),getStatus:e=>a(`/api/highlight/status/${e}`),getProgress:e=>a(`/api/highlight/progress/${e}`),getPageImage:(e,a,i)=>{let r=i?`?dpi=${i}`:"";return`${t}/api/highlight/page/${e}/${a}/image${r}`},saveImage:(e,t,i)=>a(`/api/highlight/${e}/save`,{method:"POST",body:JSON.stringify({page_number:t,image_base64:i})}),getSavedImages:e=>a(`/api/highlight/${e}/saved-images`)},"projectApi",0,{listProjects:()=>a("/api/projects"),createProject:e=>a("/api/projects",{method:"POST",body:JSON.stringify({name:e})}),deleteProject:e=>a(`/api/projects/${e}`,{method:"DELETE"}),getProject:e=>a(`/api/projects/${e}`),updateProject:(e,t)=>a(`/api/projects/${e}`,{method:"PATCH",body:JSON.stringify(t)})},"relationshipApi",0,{analyze:(e,t)=>{let i=t?`?beneficiary_name=${encodeURIComponent(t)}`:"";return a(`/api/relationship/${e}${i}`,{method:"POST"})},saveManual:(e,t)=>a(`/api/relationship-manual/${e}`,{method:"POST",body:JSON.stringify(t)}),getLatest:e=>a(`/api/projects/${e}/relationship`)},"styleTemplateApi",0,{parse:(e,t)=>a("/api/style-templates/parse",{method:"POST",body:JSON.stringify({section:e,sample_text:t})}),create:e=>a("/api/style-templates",{method:"POST",body:JSON.stringify(e)}),list:e=>{let t=e?`?section=${e}`:"";return a(`/api/style-templates${t}`)},get:e=>a(`/api/style-templates/${e}`),update:(e,t)=>a(`/api/style-templates/${e}`,{method:"PATCH",body:JSON.stringify(t)}),delete:e=>a(`/api/style-templates/${e}`,{method:"DELETE"})},"writingApi",0,{generateParagraph:(e,t,i)=>a(`/api/l1-write/${e}?section_type=${t}${i?`&beneficiary_name=${encodeURIComponent(i)}`:""}`,{method:"POST"}),saveManual:(e,t,i,r)=>a(`/api/l1-write-manual/${e}`,{method:"POST",body:JSON.stringify({section_type:t,paragraph_text:i,citations_used:r})}),getAllWriting:e=>a(`/api/l1-writing/${e}`)}])},52683,e=>{"use strict";var t=e.i(43476),a=e.i(71645),i=e.i(18566),r=e.i(18279);function s(){let e=(0,i.useRouter)();return(0,a.useEffect)(()=>{!async function(){try{let t=await r.projectApi.listProjects();if(t&&t.length>0){let a=[...t].sort((e,t)=>new Date(t.updatedAt||t.createdAt).getTime()-new Date(e.updatedAt||e.createdAt).getTime());e.replace(`/workspace/${a[0].id}`)}else{let t=await r.projectApi.createProject("New Project");e.replace(`/workspace/${t.id}`)}}catch(e){console.error("Failed to load projects:",e)}}()},[e]),(0,t.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),(0,t.jsx)("p",{className:"mt-4 text-gray-600",children:"Loading workspace..."})]})})}e.s(["default",()=>s])}]);